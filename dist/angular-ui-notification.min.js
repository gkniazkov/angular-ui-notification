/**
 * angular-ui-notification - Angular.js service providing simple notifications using Bootstrap 3 styles with css transitions for animating
 * @author Alex_Crack
 * @version v0.2.4
 * @link https://github.com/alexcrack/angular-ui-notification
 * @license MIT
 */
angular.module("ui-notification",[]),angular.module("ui-notification").provider("Notification",function(){var e=[],t=[];this.options={delay:5e3,startTop:10,startRight:10,verticalSpacing:10,horizontalSpacing:10,positionX:"right",positionY:"top",replaceMessage:!1,templateUrl:"angular-ui-notification.html",onClose:void 0,closeOnClick:!0,maxCount:0},this.setOptions=function(e){if(!angular.isObject(e))throw new Error("Options should be an object!");this.options=angular.extend({},this.options,e)},this.$get=["$timeout","$http","$compile","$templateCache","$rootScope","$injector","$sce","$q","$window",function(i,n,o,s,a,l,r,c,p){var d=this.options,u=d.startTop,f=d.startRight,m=d.verticalSpacing,g=d.horizontalSpacing,h=d.delay,v=[],C=!1,y=function(l,y){var k=c.defer();return"object"!=typeof l&&(l={message:l}),l.scope=l.scope?l.scope:a,l.template=l.templateUrl?l.templateUrl:d.templateUrl,l.delay=angular.isUndefined(l.delay)?h:l.delay,l.type=y||d.type||"",l.positionY=l.positionY?l.positionY:d.positionY,l.positionX=l.positionX?l.positionX:d.positionX,l.replaceMessage=void 0!==l.replaceMessage?l.replaceMessage:d.replaceMessage,l.onClose=l.onClose?l.onClose:d.onClose,l.closeOnClick=null!==l.closeOnClick&&void 0!==l.closeOnClick?l.closeOnClick:d.closeOnClick,n.get(l.template,{cache:s}).success(function(n){function s(e){["-webkit-transition","-o-transition","transition"].forEach(function(t){h.css(t,e)})}var a=l.scope.$new();a.message=r.trustAsHtml(l.message),a.title=r.trustAsHtml(l.title),a.t=l.type.substr(0,1),a.delay=l.delay,a.onClose=l.onClose,t.push(l.message);var c=function(){for(var e={},i=0,n=0,o=u,s=f,a=[],r=v.length-1;r>=0;r--){var c=v[r],p=l.replaceMessage&&r<v.length-1;for(var h in t){var C=t[h];e[C]=e[C]||0,C.search(c.children().eq(1).text())!==-1&&(e[C]&&(p=!0),++e[C])}if(p||c.hasClass("killed"))c.addClass("killed");else{var y=parseInt(c[0].offsetHeight),k=parseInt(c[0].offsetWidth),w=a[c._positionY+c._positionX];b+y>window.innerHeight&&(w=u,n++,i=0);var b=o=w?0===i?w:w+m:u,$=s+n*(g+k);c.css(c._positionY,b+"px"),"center"==c._positionX?c.css("left",parseInt(window.innerWidth/2-k/2)+"px"):c.css(c._positionX,$+"px"),a[c._positionY+c._positionX]=b+y,d.maxCount>0&&v.length>d.maxCount&&0===r&&c.scope().kill(!0),i++}}t.splice(t.indexOf(l.message),1)},h=o(n)(a);h._positionY=l.positionY,h._positionX=l.positionX,h.addClass(l.type);var y=function(e){e=e.originalEvent||e,("click"===e.type||"opacity"===e.propertyName&&e.elapsedTime>=1)&&(a.onClose&&a.$apply(a.onClose(h)),h.remove(),v.splice(v.indexOf(h),1),a.$destroy(),c())};if(l.closeOnClick&&(h.addClass("clickable"),h.bind("click",y)),h.bind("webkitTransitionEnd oTransitionEnd otransitionend transitionend msTransitionEnd",y),angular.isNumber(l.delay)){var w=i(function(){h.addClass("killed");var t=e.indexOf(w);t!==-1&&e.splice(t,1)},l.delay);e.push(w)}s("none"),angular.element(document.getElementsByTagName("body")).append(h);var b=-(parseInt(h[0].offsetHeight)+50);if(h.css(h._positionY,b+"px"),v.push(h),"center"==l.positionX){var $=parseInt(h[0].offsetWidth);h.css("left",parseInt(window.innerWidth/2-$/2)+"px")}i(function(){s("")}),a._templateElement=h,a.kill=function(e){e?(a.onClose&&a.$apply(a.onClose(a._templateElement)),v.splice(v.indexOf(a._templateElement),1),a._templateElement.remove(),a.$destroy(),i(c)):a._templateElement.addClass("killed")},i(c),C||(angular.element(p).bind("resize",function(e){i(c)}),C=!0),k.resolve(a)}).error(function(e){throw new Error("Template ("+l.template+") could not be loaded. "+e)}),k.promise};return y.primary=function(e){return this(e,"primary")},y.error=function(e){return this(e,"error")},y.success=function(e){return this(e,"success")},y.info=function(e){return this(e,"info")},y.warning=function(e){return this(e,"warning")},y.clearAll=function(){angular.forEach(v,function(e){e.addClass("killed")}),angular.forEach(e,function(e){i.cancel(e)}),e=[]},y}]}),angular.module("ui-notification").run(["$templateCache",function(e){e.put("angular-ui-notification.html",'<div class="ui-notification"><h3 ng-show="title" ng-bind-html="title"></h3><div class="message" ng-bind-html="message"></div></div>')}]);